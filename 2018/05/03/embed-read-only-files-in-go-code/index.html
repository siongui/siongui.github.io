<!DOCTYPE html>
<html lang="en">
<head><script data-ad-client="ca-pub-0436733829999264" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta charset="utf-8">
  <title>Embed Read-Only Files in Go Code</title>
  <meta name="keywords" content="Go,Golang,GopherJS,Full-Stack Go,Full-Stack Golang,Embed File in Go Code"/>
  <meta name="description" content="Embed read-only files in Go code."/>
  <meta name="author" content="Siong-Ui Te"/><meta property="og:title" content="Embed Read-Only Files in Go Code" /><meta property="og:image" content="https://newrelic.com/assets/pages/golang/go-mascot.svg" />
<meta property="og:description" content="Embed read-only files in Go code." /><meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" href="/./extra/Dharma_wheel.png" />
  <link rel="manifest" href="/manifest.json" />

  <link rel="stylesheet" type="text/css" href="/./theme/css/style.css">
</head>
<body>

<div>
<nav class="nav">
  <div class="nav-left">
    <a class="nav-item" href="/">Theory and Practice</a>
  </div>

  <label for="menu-toggle" class="nav-toggle">&equiv;</label>
  <input type="checkbox" id="menu-toggle" class="is-hidden"/>

  <div class="nav-right nav-menu">
<a class="nav-item" href="/pages/about.html">About</a>
    <a class="nav-item" href="/archives.html">Archives</a>
    <a class="nav-item" href="/categories.html">Categories</a>
    <a class="nav-item" href="/tags.html">Tags</a>
    <a class="nav-item" href="/authors.html">Authors</a>
    <!--TODO: add links for Links(optional), and RSS -->

    <span class="vertical-divider"></span>

        <a class="nav-item" href="/zh/">中文</a>
        <a class="nav-item" href="/th/">ไทย</a>
  </div>
</nav><gcse:search></gcse:search><main role="main" class="article">
  <article>
    <header>
      <h1>
        <a href="/2018/05/03/embed-read-only-files-in-go-code/"
           rel="bookmark"
           title="Permalink to Embed Read-Only Files in Go Code">
          Embed Read-Only Files in Go Code
        </a>
      </h1>
    </header>
<aside><time datetime="2018-05-03T23:49:00+08:00">
    May 03, 2018
  </time></aside>
    <aside><div class="edit-on-github"><a href="https://github.com/siongui/userpages/tree/master/content/articles/2018/05/03/embed-read-only-files-in-go-code%25en.rst">Edit on Github</a></div></aside>
    <hr>

    <div class="main-content"><p>The motivation is to embed data files of succinct trie in Go code and compiled
to JavaScript via <a class="reference external" href="https://github.com/gopherjs/gopherjs">GopherJS</a>. But the method here can not only used in frontend,
but also in local Go program. There are many third-party Go packages that can
help you to do the same thing, some of them can even let you write content to
the files. But they are too complicated for me. I just need a simple package
which embed files in Go code, and read the files only (no need to write files).
So I write this simple tool <em>goef</em> <a class="footnote-reference" href="#id2" id="id1">[1]</a> to help me.</p>
<p>The features are:</p>
<ul class="simple">
<li>Files are read-only.</li>
<li>Used in front-end code via <a class="reference external" href="https://github.com/gopherjs/gopherjs">GopherJS</a>, or local Go program.</li>
<li>Can be included in your Go package, or put in a separate package.</li>
</ul>
<p>The idea of <em>goef</em> is simple. Encode the content of the files in Base64 format
and put the (name, content) of the files in the (key, value) of Go built-in <a class="reference external" href="https://blog.golang.org/go-maps-in-action">map</a>
structure. Then implement a <em>ReadFile</em> method which has the same usage as
<a class="reference external" href="https://golang.org/pkg/io/ioutil/#ReadFile">ioutil.ReadFile</a> in Go standard library.</p>
<p>For usage details, please visit GitHub repo.</p>

<hr class="docutils" />
<p>Tested on: <tt class="docutils literal">Ubuntu Linux 17.10</tt>, <tt class="docutils literal">Go 1.10.2</tt>.</p>
<p><strong>References</strong>:</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="https://github.com/siongui/goef">GitHub - siongui/goef: Embed file in your Go code</a></td></tr>
</tbody>
</table>
</div>

    <footer><hr><address><b>Author</b>:
    <a rel="author"
       href="/author/siong-ui-te.html">Siong-Ui Te</a>
  </address><aside>
    <i>&isin;</i> <b>Category</b>:
    <a href="/category/go.html">Go</a>
  </aside><aside>
    <i>&sum;</i> <b>Tags</b>:
      <a href="/tag/go.html">Go</a>
,       <a href="/tag/golang.html">Golang</a>
,       <a href="/tag/gopherjs.html">GopherJS</a>
,       <a href="/tag/full-stack-go.html">Full-Stack Go</a>
,       <a href="/tag/full-stack-golang.html">Full-Stack Golang</a>
,       <a href="/tag/embed-file-in-go-code.html">Embed File in Go Code</a>
  </aside></footer>
  </article>
</main>
</div>
<div class="layout-footer">Powered by
  <a href="https://pages.github.com/">Github Pages</a>,
  <a href="http://blog.getpelican.com/">Pelican</a>,
  <a href="https://github.com/Kronuz/pyScss">pyScss</a>.
</div>
<script>
  (function() {
    var cx = '000759460633137666077:43yuu4nvb0c';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-31712770-3', 'auto');
  ga('send', 'pageview');

</script><script>
navigator.serviceWorker && navigator.serviceWorker.register('/sw.js').then(function(registration) {
  console.log('Excellent, registered with scope: ', registration.scope);
});
</script></body>
</html>