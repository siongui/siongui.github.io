<!DOCTYPE html>
<html lang="en">
<head><meta charset="utf-8">
  <title>[Algorithm] Swap and Sum</title>
  <meta name="keywords" content="Algorithm"/>
  <meta name="description" content="Swap and Sum"/>
  <meta name="author" content="Shen-Fu Tsai"/><meta property="og:title" content="[Algorithm] Swap and Sum" />    <meta property="og:image" content="/./extra/Dharma_wheel.svg" /><meta property="og:description" content="Swap and Sum" /><meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" href="/./extra/Dharma_wheel.png" />
  <link rel="manifest" href="/manifest.json" />

  <link rel="stylesheet" type="text/css" href="/./theme/css/style.css">
</head>
<body>

<div>
<nav class="nav">
  <div class="nav-left">
    <a class="nav-item" href="/">Theory and Practice</a>
  </div>

  <label for="menu-toggle" class="nav-toggle">&equiv;</label>
  <input type="checkbox" id="menu-toggle" class="is-hidden"/>

  <div class="nav-right nav-menu">
<a class="nav-item" href="/pages/about.html">About</a>
    <a class="nav-item" href="/archives.html">Archives</a>
    <a class="nav-item" href="/categories.html">Categories</a>
    <a class="nav-item" href="/tags.html">Tags</a>
    <a class="nav-item" href="/authors.html">Authors</a>
    <!--TODO: add links for Links(optional), and RSS -->

    <span class="vertical-divider"></span>

        <a class="nav-item" href="/zh/">中文</a>
        <a class="nav-item" href="/th/">ไทย</a>
  </div>
</nav><gcse:search></gcse:search><main role="main" class="article">
  <article>
    <header>
      <h1>
        <a href="/2015/01/13/swap-and-sum/"
           rel="bookmark"
           title="Permalink to [Algorithm] Swap and Sum">
          [Algorithm] Swap and Sum
        </a>
      </h1>
    </header>
<aside><time datetime="2015-01-13T13:04:00-08:00">
    January 13, 2015
  </time></aside>
    <aside><div class="edit-on-github"><a href="https://github.com/siongui/userpages/tree/master/content/articles/2015/01/13/swap-and-sum%25en.rst">Edit on Github</a></div></aside>
    <hr>

    <div class="main-content"><p>There are two keys to solving the problem <a class="reference external" href="https://www.hackerrank.com/contests/w13/challenges/swaps-and-sum">swap and sum</a> :</p>
<ol class="arabic simple">
<li>Treap, which enables O(log N) time for swapping two segments and summing over
one segment, because we could attach an addition field 'sum' to each node of
Treap. However in this problem there is O(N) element swaps per request so the
issue isn't resolved yet.</li>
<li>Coordinate transform. This will deal with O(N) element swap. Transform the
array into all even-indexed elements followed by all odd-indexed elements,
i.e.  a[0], a[2], a[4], ... , a[1], a[3], ...</li>
</ol>
<p>With this, any O(N) swap becomes swapping two segments of same length in the
transformed array, and every summation splits to two which is still managable.</p>
<hr class="docutils" />
<p><a class="reference external" href="http://oathbystyx.blogspot.com/2015/01/swap-and-sum.html">post</a>
by
<a class="reference external" href="/pages/shen-fu-tsai.html">Shen-Fu Tsai</a></p>
</div>

    <footer><hr><address><b>Author</b>:
    <a rel="author"
       href="/author/shen-fu-tsai.html">Shen-Fu Tsai</a>
  </address><aside>
    <i>&isin;</i> <b>Category</b>:
    <a href="/category/algorithm.html">Algorithm</a>
  </aside><aside>
    <i>&sum;</i> <b>Tags</b>:
      <a href="/tag/algorithm.html">Algorithm</a>
  </aside></footer>
  </article>
</main>
</div>
<div class="layout-footer">Powered by
  <a href="https://pages.github.com/">Github Pages</a>,
  <a href="http://blog.getpelican.com/">Pelican</a>,
  <a href="https://github.com/Kronuz/pyScss">pyScss</a>.
</div>
<script>
  (function() {
    var cx = '000759460633137666077:43yuu4nvb0c';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-31712770-3', 'auto');
  ga('send', 'pageview');

</script><script>
navigator.serviceWorker && navigator.serviceWorker.register('/sw.js').then(function(registration) {
  console.log('Excellent, registered with scope: ', registration.scope);
});
</script></body>
</html>